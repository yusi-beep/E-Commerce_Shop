/* ===========================
   PAGE LAYOUT & THEME VARS
   =========================== */
:root{
  --card-radius: 14px;
  --card-shadow: 0 6px 18px rgba(0,0,0,.06); /* мека сянка */
  --card-shadow-hover: 0 10px 24px rgba(0,0,0,.10); /* по-силна сянка при hover */
  --border: rgba(0,0,0,.08); /* светъл контур */
  --muted: #424345; /* приглушен сив текст */
  --accent: #16a34a; /* зелен акцент */
  --accent-soft-1: #16a34a0d; /* светлозелен фон */
  --button: #374151;   /* тъмно сиво */
  --badge-sale:#f23427;
}

.shop-container{
  display:grid;
  grid-template-columns: 260px 1fr;
  gap:1.5rem;
  align-items:start;
}
@media (max-width: 1024px){ .shop-container{ grid-template-columns:220px 1fr } }
@media (max-width: 900px){ .shop-container{ grid-template-columns:1fr } }

/* Sidebar */
.sidebar{
  position:sticky; top:1rem; align-self:start;
  border:1px solid var(--border); border-radius:12px;
  padding:1rem; background:#fff /* бял фон */
}
.sidebar h2{ margin:.25rem 0 1rem; font-size:1.05rem; --pico-color: var(--muted); }
.sidebar .cat-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.35rem }
.sidebar .cat-list a{
  display:flex; justify-content:space-between; align-items:center;
  padding:.55rem .7rem; border-radius:10px; text-decoration:none; color:inherit; border:1px solid transparent; color: var(--muted);
}
.sidebar .cat-list a:hover{ background:rgba(0,0,0,.03); color: var(--muted);}
.sidebar .cat-list a.active{ border-color:var(--accent-soft-2); background:var(--accent-soft-1); color: var(--muted);}

/* Mobile sidebar toggle */
.sidebar-toggle{ display:none; margin-bottom: .75rem }
@media (max-width:900px){
  .sidebar{ position:relative; top:0 }
  .sidebar[hidden]{ display:none }
  .sidebar-toggle{ display:block }
}

/* Grid */
.products-grid{
  display:grid;
  gap:1rem;
  grid-template-columns: repeat(5, 1fr);
}
@media (max-width:1536px){ .products-grid{ grid-template-columns: repeat(4, 1fr) } }
@media (max-width:1200px){ .products-grid{ grid-template-columns: repeat(3, 1fr) } }
@media (max-width:900px){ .products-grid{ grid-template-columns: repeat(2, 1fr) } }
@media (max-width:540px){ .products-grid{ grid-template-columns: 1fr } }

/* ===========================
   PRODUCT CARD
   =========================== */
.product-card{
  display:flex; flex-direction:column; gap:.65rem;
  background:#fff; border:1px solid var(--border); border-radius:var(--card-radius);
  padding:.7rem; box-shadow:var(--card-shadow);
  transition: transform .15s ease, box-shadow .15s ease;
  max-width: 250px;
  min-height: 100%;
}
.product-card:hover{ transform: translateY(-2px); box-shadow: var(--card-shadow-hover) }

.product-media{ position:relative; display:block; overflow:hidden; border-radius:12px; background:#f3f4f6 }
.product-media picture, .product-media img{ display:block; width:100%; height:auto }
.product-media .img{ width:100%; aspect-ratio: 4/3; object-fit:cover; transition: transform .25s ease }
.product-card:hover .product-media .img{ transform: scale(1.03) }

.badge-sale{
  position:absolute; top:.5rem; left:.5rem; font-size:.78rem;
  padding:.25rem .45rem; border-radius:9999px; background:var(--badge-sale); color:#fff
}
.badge-oos{
  position:absolute; top:.5rem; right:-.6rem; background:#14532d; color:#fff;
  padding:.3rem .7rem; transform: rotate(3deg); border-radius:8px
}

.product-title{
  margin:0; font-size:.95rem; line-height:1.25;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; min-height:2.4em
}
h3.product-title{color:var(--muted)}
.product-meta{ font-size:.82rem; color:var(--muted) }

.product-price{
  display:flex; align-items:baseline; gap:.5rem; border-top:1px dashed var(--border); padding-top:.5rem
}
.product-price .now{ font-weight:600; font-size:1.05rem; color:var(--badge-sale)}
.product-price .old{ text-decoration: line-through; opacity:.6 }
.product-price .save{ font-size:.8rem; color:var(--accent) }

.card-actions{ display:flex; gap:.5rem; margin-top:.25rem }
.btn-view,
.btn-add{
  display:inline-flex; align-items:center; justify-content:center; gap:.4rem;
  padding:.5rem .7rem; border-radius:10px; text-decoration:none; border:1px solid var(--border); cursor:pointer
}
.btn-view{ background:var(--accent); color:#fff; border-color: transparent }
.btn-view:hover{ filter:brightness(1.08) }
.btn-add{ background: var(--button); color: #fff; border: none;}
.btn-add:hover { filter: brightness(1.1); }
.btn-add[disabled]{ opacity:.5; cursor:not-allowed }

/* Pagination */
.pager{ margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap; align-items:center }
.pager .btn-view{ padding:.45rem .65rem }

h1 {
    --pico-color: var(--muted);
}

.gallery { display:grid; grid-template-columns: 1fr; gap:1rem; max-width: 720px; }
.main-img { width:100%; max-height:480px; object-fit:contain; border:1px solid rgba(255,255,255,.1); border-radius:.5rem; }
.thumbs { display:flex; gap:.5rem; flex-wrap:wrap; }
.thumbs img { width:96px; height:96px; object-fit:cover; border:2px solid transparent; border-radius:.4rem; cursor:pointer; }
.thumbs img.active { border-color:#0d6efd; }